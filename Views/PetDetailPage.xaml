<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="_SPS.Views.PetDetailPage"
             xmlns:viewmodels="clr-namespace:_SPS.ViewModels"
             Title="{Binding Name}">

    <ContentPage.BindingContext>
        <viewmodels:PetDetailViewModel />
    </ContentPage.BindingContext>

    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="0,0,0,30">

            <Grid HeightRequest="300">
                <CarouselView ItemsSource="{Binding PetImages}"
                              IndicatorView="indicatorView">
                    <CarouselView.ItemTemplate>
                        <DataTemplate>
                            <Image Source="{Binding .}" 
                                   Aspect="AspectFill" 
                                   BackgroundColor="#f0f0f0"/>
                        </DataTemplate>
                    </CarouselView.ItemTemplate>
                </CarouselView>

                <IndicatorView x:Name="indicatorView"
                               IndicatorColor="LightGray"
                               SelectedIndicatorColor="Black"
                               HorizontalOptions="Center"
                               VerticalOptions="End"
                               Margin="0,0,0,10"/>
            </Grid>

            <VerticalStackLayout Spacing="10" Padding="20">

                <StackLayout Orientation="Horizontal" Spacing="10">
                    <Label Text="{Binding Name}" FontSize="28" FontAttributes="Bold" TextColor="Black"/>
                    <Frame Padding="8,4" BackgroundColor="#E3F2FD" CornerRadius="5" BorderColor="Transparent" VerticalOptions="Center">
                        <Label Text="{Binding Gender}" TextColor="#1976D2" FontSize="12" FontAttributes="Bold"/>
                    </Frame>
                </StackLayout>

                <Label Text="{Binding Species}" FontSize="18" TextColor="Gray" />

                <BoxView HeightRequest="1" Color="LightGray" />

                <Grid ColumnDefinitions="Auto, *" RowDefinitions="Auto, Auto, Auto, Auto" RowSpacing="10" ColumnSpacing="15">

                    <Label Grid.Row="0" Grid.Column="0" Text="ë‚˜ì´" FontAttributes="Bold" />
                    <Label Grid.Row="0" Grid.Column="1" Text="{Binding Age}" />

                    <Label Grid.Row="1" Grid.Column="0" Text="ëª¸ë¬´ê²Œ" FontAttributes="Bold" />
                    <Label Grid.Row="1" Grid.Column="1" Text="{Binding Weight}" />

                    <Label Grid.Row="2" Grid.Column="0" Text="ìƒíƒœ" FontAttributes="Bold" />
                    <Label Grid.Row="2" Grid.Column="1" Text="{Binding Condition}" />

                    <Label Grid.Row="3" Grid.Column="0" Text="íŠ¹ì§•" FontAttributes="Bold" />
                    <Label Grid.Row="3" Grid.Column="1" Text="{Binding Feature}" />

                </Grid>

                <Frame BackgroundColor="#FFF3E0" BorderColor="#FFB74D" Padding="15" Margin="0,10">
                    <VerticalStackLayout>
                        <Label Text="ðŸ“ ë°œê²¬/ë³´í˜¸ ìœ„ì¹˜" TextColor="#F57C00" FontAttributes="Bold" Margin="0,0,0,5"/>
                        <Label Text="{Binding Location}" TextColor="Black"/>
                    </VerticalStackLayout>
                </Frame>

                <Frame BackgroundColor="#E8F5E9" BorderColor="#4CAF50" Padding="15">
                    <VerticalStackLayout>
                        <Label Text="ðŸ“ž ì—°ë½ì²˜" TextColor="#2E7D32" FontAttributes="Bold" Margin="0,0,0,5"/>
                        <Label Text="{Binding Contact}" TextColor="Black" FontSize="16"/>
                    </VerticalStackLayout>
                </Frame>

                <Label Text="ì¶”ê°€ ì„¤ëª…" FontAttributes="Bold" Margin="0,10,0,0"/>
                <Label Text="{Binding Description}" />

            </VerticalStackLayout>

            <Grid ColumnDefinitions="*,*" ColumnSpacing="10" Padding="20" IsVisible="{Binding CanEdit}">
                <Button Grid.Column="0" Text="ìˆ˜ì •" Command="{Binding UpdatePetCommand}" BackgroundColor="Orange"/>
                <Button Grid.Column="1" Text="ì‚­ì œ" Command="{Binding DeletePetCommand}" BackgroundColor="Red"/>
            </Grid>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>